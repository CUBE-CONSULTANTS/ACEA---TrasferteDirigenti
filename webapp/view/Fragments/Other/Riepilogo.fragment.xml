<core:FragmentDefinition xmlns="sap.m"
    xmlns:smartfilterbar="sap.ui.comp.smartfilterbar"
    xmlns:ce="sap.ui.codeeditor"
    xmlns:l="sap.ui.layout"
    xmlns:u="sap.ui.unified"
    xmlns:f="sap.ui.layout.form"
    xmlns:core="sap.ui.core"
    xmlns:table="sap.ui.table">
    <l:Splitter >

        <Table id="tableRiepilogo" mode="SingleSelectLeft" selectionChange=".onSetEdit" inset="false" items="{/appointments}">
            <headerToolbar>
                <OverflowToolbar>
                    <ToolbarSpacer />
                    <Button text="Modifica" icon="sap-icon://edit" press=".onChange" />
                    <Button text="Elimina" icon="sap-icon://delete" type="Emphasized" press=".onDelete" />
                </OverflowToolbar>
            </headerToolbar>


            <layoutData>
                <l:SplitterLayoutData size="70%" resizable="false" />
            </layoutData>


            <columns>
                <Column width="12em">
                    <Text text="Tipo Trasferta" />
                </Column>
                <Column minScreenWidth="Tablet" demandPopin="true">
                    <Text text="Descr. tipo trasferta" />
                </Column>
                <Column minScreenWidth="Desktop" demandPopin="true" >
                    <Text text="Inizio" />
                </Column>
                <Column minScreenWidth="Desktop" demandPopin="true" >
                    <Text text="Fine" />
                </Column>
                <Column minScreenWidth="Desktop" demandPopin="true" >
                    <Text text="Ora Inizio" />
                </Column>
                <Column minScreenWidth="Desktop" demandPopin="true" >
                    <Text text="Ora Fine" />
                </Column>
            </columns>
            <items>
                <ColumnListItem vAlign="Middle">
                    <cells>
                        <Text text="{=${title} === 'Trasferta Dirigente Estero' ? 'AT4' : 'AT2'}" wrapping="false" />
                        <Text text="{title}" wrapping="true" />
                        <Text text="{
                             path:'startDate',
                            formatter: '.formatter.formatDate'
                        }" wrapping="false" />
                        <Text text="{
                            path:'endDate',
                            formatter: '.formatter.formatDate'
                        }" wrapping="false" />
                        <Text text="{
                            path:'startDate',
                            formatter: '.formatter.formatTime'
                        }" wrapping="false" />


                        <Text text="{
                            path: 'endDate',
                            formatter: '.formatter.formatTime'
                        }" wrapping="false" />
                    </cells>
                </ColumnListItem>
            </items>
        </Table>
        <core:Fragment fragmentName="trasfertedirigenti.view.Fragments.FormTrasferta" type="XML" />
    </l:Splitter>
</core:FragmentDefinition>